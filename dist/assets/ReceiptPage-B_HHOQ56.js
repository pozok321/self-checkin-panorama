import{_ as C,L,$ as u,a as f,S as h,c as i,b as m,d as t,F as p,r as g,f as _,j as k,t as a,g as b,h as y,o as n,p as T,i as S,m as I}from"./index-VhF6knkF.js";import{F as A,a as E,E as N}from"./vee-validate.esm-BV3Gem88.js";const B={data(){return{event_detail:JSON.parse(localStorage.getItem("event_details")),urlGateway:JSON.parse(localStorage.getItem("urlGateway")),poster_mobile:localStorage.getItem("poster_mobile"),receipt_data:{events_id:this.$route.params.Eventsid,order_id:localStorage.getItem("order_id")},show_qr:{evidenc:localStorage.getItem("evidenc"),order_id:localStorage.getItem("order_id"),guests_token:localStorage.getItem("token")},ticket_name:"",global_url:this.$globalURL,receipt:[],ticket_list:[],member_data:[],member_detail:[],receipt_details:[],get_receipt:"",isLoading:!1,isLoadingHeader:!1,ticketlist:!0,ticketdetail:!1,LoadingButton:!1,isLoadingAnimation:!1,route_name:this.$route.name,printarea:!1}},components:{Form:A,Field:E,ErrorMessage:N,Loading:L},methods:{getUrlGateway(){this.Countdown(this.urlGateway.expiry_time)},clear_qr(){u("#qrcode").empty(),this.ticketlist=!0,this.ticketdetail=!1},receiptList(){this.isLoadingAnimation=!0,f({url:"/rsvp/getpaidticket",headers:{"Content-Type":"text/plain"},method:"POST",data:this.receipt_data}).then(s=>{this.receipt=s.data})},copy_membertoken(){var s=document.getElementById("member_token");s.select(),s.setSelectionRange(0,99999),navigator.clipboard.writeText(s.value),h.fire({text:"Success, copied token!",icon:"success"}).then(e=>{}),setTimeout(function(){u(".swal-button--confirm").click()},1e3)},topFunction(){window.scrollTo({top:0,behavior:"smooth"})},toEventDetailPage(){const s=h.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});s.fire({title:"Are you sure?",text:"You will be directed to Registration Page",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(e=>{e.isConfirmed?(s.fire({title:"Success",text:"You're Success directed to Registration/Checkin Page",icon:"success"}),this.$router.push("/eventdetailpage")):e.dismiss===h.DismissReason.cancel&&s.fire({title:"Cancelled",icon:"error"})})},details(s){this.show_qr.guests_token=s.token,this.isLoadingAnimation=!0,f({url:"/rsvp/receipt/details",headers:{"Content-Type":"text/plain"},method:"POST",data:this.show_qr}).then(e=>{this.receipt_details=e.data,this.ticketdetail=!0,this.ticketlist=!1,this.isLoadingHeader=!1;var d=this;setTimeout(function(){d.isLoading=!1,new QRCode(document.getElementById("qrcode"),{text:s.token,width:80,height:80,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})},200)})},select_details(s){u("#qrcode").empty(),this.printarea=!0,this.receipt_details=s,setTimeout(function(){new QRCode(document.getElementById("qrcode"),{text:s.token,width:80,height:80,colorDark:"#000",colorLight:"#fff",correctLevel:QRCode.CorrectLevel.H})},200),this.on_print()},on_print(){setTimeout(function(){var s=document.getElementById("areaprint").innerHTML,e=document.createElement("iframe");e.name="frame1",e.style.position="absolute",e.style.top="-1000000px",document.body.appendChild(e);var d=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument;return d.document.open(),d.document.write("<html><head><title>DIV Contents</title>"),d.document.write("</head><body>"),d.document.write(s),d.document.write("</body></html>"),d.document.close(),setTimeout(function(){window.frames.frame1.focus(),window.frames.frame1.print(),document.body.removeChild(e)},500),window.onload=function(){self.print()},!1},500)}},mounted(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},500),this.event_detail===null?this.$router.push("/eventdetailpage"):this.receiptList()}},l=s=>(T("data-v-ab8ad3f3"),s=s(),S(),s),D={class:"vh-100"},R={class:"content-limit"},q={class:"wrap-content bg-white"},P={class:"formRSVP"},O=l(()=>t("h4",{class:"text-center"},"Ticket List",-1)),G=l(()=>t("div",{class:"order-id text-center"},[t("p",null,"Order ID")],-1)),F={class:"row guest-wrap"},V={class:"guest-box"},K={class:"row"},M={class:"col-lg-6 col-sm-7 col-7"},H={class:"fontblack-12pt"},Q={class:"fontgrey-12pt"},Y={class:"col-lg-6 col-sm-4 col-4 text-end"},z=["onClick"],J=["onClick"],U=l(()=>t("img",{src:I,width:"15",alt:"Ticket",style:{"background-color":"#fff"}},null,-1)),W={key:0,class:"qr-box text-center noshow",id:"areaprint"},j={key:0,class:"is-loading img-height"},X=l(()=>t("div",{class:"margin-div",style:{"margin-top":"0px"}},null,-1)),Z=l(()=>t("div",{id:"qrcode"},null,-1)),$={class:""},tt={class:"mb-4"},et={class:"text-center"},st={class:"row"},ot={class:"w-100"},it={key:0},nt={class:"content-limit"},lt={class:"wrap-content bg-white"},ct={key:0,class:"formRSVP"},at=l(()=>t("h4",{class:"titlepage text-center"},[t("b",null,"Ticket List")],-1)),dt={key:0,class:"is-loading text-30"},rt={key:1},_t={class:"ppage text-center"},ut={class:"formRSVP"},ht={class:"row"},mt={class:"col-8"},pt=l(()=>t("h4",{class:"text-left"},[t("b",null,"Detail Ticket")],-1)),gt=l(()=>t("div",null,"Full Name",-1)),vt={key:0,class:"is-loading text-30"},ft={key:1,class:"mb-2"},kt=l(()=>t("div",null,"Ticket Class",-1)),bt={class:"mb-2 text-left"},yt={class:"ppage",style:{"padding-left":"15px"}},xt={class:"text-left"},wt=l(()=>t("div",null,"Order ID",-1)),Ct={key:2,class:"is-loading text-30"},Lt={key:3,class:"mb-2"},Tt={class:"col-4"},St={class:"qr-box text-center",id:"areaprint"},It={key:0,class:"is-loading img-height"},At=l(()=>t("div",{class:"margin-div",style:{"margin-top":"0px"}},null,-1)),Et=l(()=>t("div",{id:"qrcode"},null,-1)),Nt={class:"noshow"},Bt={class:"mb-4"},Dt={class:"text-center"},Rt={key:0},qt=l(()=>t("div",{class:"is-loading text-30"},null,-1)),Pt=l(()=>t("div",{class:"is-loading text-30"},null,-1)),Ot=[qt,Pt],Gt={key:1},Ft=["value"],Vt=l(()=>t("i",{class:"bx bxs-copy-alt"},null,-1)),Kt=l(()=>t("br",null,null,-1)),Mt=l(()=>t("div",{style:{"font-size":"12px","margin-top":"20px"}},[t("h4",{style:{"font-size":"14px","font-weight":"bold"}},"Syarat & Ketentuan :"),t("p",null,[t("b",null,"JANGAN MEMBAGIKAN BARCODE E-TICKET ANDA SECARA ONLINE KARENA ORANG DAPAT MENYALIN DAN MENGKLAIM TIKET ANDA.")]),t("ol",{style:{"font-size":"12px","font-weight":"normal","padding-left":"15px"}},[t("li",null," Kami tidak bertanggung jawab atas kehilangan e-ticket ini"),t("li",null," E-ticket hanya dapat digunakan oleh 1 orang"),t("li",null," E-ticket ditukarkan dengan tanda masuk saat di venue")])],-1)),Ht={class:"btn-wrap text-center"},Qt=l(()=>t("br",null,null,-1)),Yt=l(()=>t("i",{class:"bx bxs-chevron-up"},null,-1)),zt=[Yt];function Jt(s,e,d,Ut,o,r){const x=y("loading"),v=y("center");return n(),i("section",D,[m(x,{active:o.isLoading,"onUpdate:active":e[0]||(e[0]=c=>o.isLoading=c)},null,8,["active"]),t("div",R,[t("div",q,[t("div",P,[O,G,t("div",F,[(n(!0),i(p,null,g(o.receipt,(c,Wt)=>(n(),i("div",V,[t("div",K,[t("div",M,[t("div",H,a(c.fullname),1),t("div",Q,a(c.ticket_name),1)]),t("div",Y,[t("button",{class:"btn btn-choose",onClick:w=>r.details(c)},"Detail ticket",8,z),t("button",{class:"btn btn-choose",onClick:w=>r.select_details(c)},[b("Print QR "),U],8,J)])])]))),256)),o.printarea?(n(),i("div",W,[o.isLoading?(n(),i("div",j)):_("",!0),m(v,null,{default:k(()=>[X,Z,t("div",$,[t("div",tt,[t("b",null,a(o.receipt_details.fullname),1)]),t("div",et,[t("b",null,a(o.receipt_details.ticket_name),1)])])]),_:1})])):_("",!0),t("div",st,[t("div",ot,[t("button",{class:"btn-done-print",onClick:e[1]||(e[1]=c=>r.toEventDetailPage())},"Done Checkin")])])])])])]),o.ticketdetail?(n(),i("div",it,[t("div",nt,[t("div",lt,[o.ticketlist?(n(),i("div",ct,[at,o.isLoading?(n(),i("div",dt)):(n(),i("div",rt,[t("p",_t,"Order ID : "+a(o.event_detail.order_id),1)]))])):_("",!0),t("div",ut,[t("div",ht,[t("div",mt,[pt,gt,o.isLoading?(n(),i("div",vt)):(n(),i("div",ft,[t("b",null,a(o.receipt_details.fullname),1)])),kt,t("div",bt,[t("ul",yt,[(n(!0),i(p,null,g(o.receipt_details.tickets,c=>(n(),i("li",xt,[t("b",null,a(c.ticket_name),1)]))),256))])]),wt,o.isLoading?(n(),i("div",Ct)):(n(),i("div",Lt,[t("b",null,a(o.event_detail.order_id),1)]))]),t("div",Tt,[t("div",St,[o.isLoading?(n(),i("div",It)):_("",!0),m(v,null,{default:k(()=>[At,Et,t("div",Nt,[t("div",Bt,[t("b",null,a(o.receipt_details.fullname),1)]),(n(!0),i(p,null,g(o.receipt_details.tickets,c=>(n(),i("div",Dt,[t("b",null,a(c.ticket_name),1)]))),256))])]),_:1})]),o.isLoading?(n(),i("div",Rt,Ot)):(n(),i("div",Gt,[t("div",{class:"tokencopy-wrap",onClick:e[3]||(e[3]=c=>r.copy_membertoken()),style:{"margin-top":"0"}},[t("input",{type:"text",class:"form-control form-custom form-8pt",style:{position:"absolute",top:"-2000px"},value:o.receipt_details.guests_token,id:"member_token",readonly:""},null,8,Ft),t("button",{class:"btn btn-print font-12ptwhite copy-btn",onClick:e[2]||(e[2]=c=>r.copy_membertoken())},[b(" Copy Token "),Vt])])])),Kt])]),Mt,t("div",Ht,[t("a",{class:"btn btn-navy-cancel",onClick:e[4]||(e[4]=c=>r.clear_qr())}," Close ")]),Qt]),t("button",{onClick:e[5]||(e[5]=c=>r.topFunction()),id:"myBtn",title:"Go to top"},zt)])])])):_("",!0)])}const Zt=C(B,[["render",Jt],["__scopeId","data-v-ab8ad3f3"]]);export{Zt as default};
